var l=Object.defineProperty;var b=Object.getOwnPropertyDescriptor;var p=Object.getOwnPropertyNames;var f=Object.prototype.hasOwnProperty;var k=(c,e)=>{for(var t in e)l(c,t,{get:e[t],enumerable:!0})},g=(c,e,t,s)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of p(e))!f.call(c,i)&&i!==t&&l(c,i,{get:()=>e[i],enumerable:!(s=b(e,i))||s.enumerable});return c};var h=c=>g(l({},"__esModule",{value:!0}),c);var K={};k(K,{Signer:()=>d,getCurve:()=>o});module.exports=h(K);var r=require("@ethersproject/bytes"),n=require("@fuel-ts/hasher"),u=require("@fuel-ts/keystore"),P=require("elliptic");function o(){return new P.ec("secp256k1")}var y=class{constructor(e){typeof e=="string"&&e.match(/^[0-9a-f]*$/i)&&e.length===64&&(e=`0x${e}`);let t=(0,r.arrayify)(e),s=o().keyFromPrivate(t,"hex");this.compressedPublicKey=(0,r.hexlify)(s.getPublic(!0,"array")),this.publicKey=(0,r.hexlify)(s.getPublic(!1,"array").slice(1)),this.privateKey=(0,r.hexlify)(t),this.address=(0,n.hash)(this.publicKey)}sign(e){let s=o().keyFromPrivate((0,r.arrayify)(this.privateKey),"hex").sign((0,r.arrayify)(e),{canonical:!0}),i=(0,r.zeroPad)(s.r.toArray(),32),a=(0,r.zeroPad)(s.s.toArray(),32);return a[0]|=(s.recoveryParam||0)<<7,(0,r.hexlify)((0,r.concat)([i,a]))}addPoint(e){let t=o().keyFromPublic((0,r.arrayify)(this.compressedPublicKey)),s=o().keyFromPublic((0,r.arrayify)(e)),i=t.getPublic().add(s.getPublic());return(0,r.hexlify)(i.encode("array",!0))}static recoverPublicKey(e,t){let s=(0,r.arrayify)(t),i=s.slice(0,32),a=s.slice(32,64),m=(a[0]&128)>>7;return a[0]&=127,o().recoverPubKey((0,r.arrayify)(e),{r:i,s:a},m).encode("array",!1).slice(1)}static recoverAddress(e,t){return(0,n.hash)(y.recoverPublicKey(e,t))}static generatePrivateKey(e){return e?(0,n.hash)((0,r.concat)([(0,u.randomBytes)(32),(0,r.arrayify)(e)])):(0,u.randomBytes)(32)}static extendPublicKey(e){let t=o().keyFromPublic((0,r.arrayify)(e));return(0,r.hexlify)(t.getPublic(!1,"array").slice(1))}},d=y;0&&(module.exports={Signer,getCurve});
//# sourceMappingURL=index.js.map