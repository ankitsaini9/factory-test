var T=Object.defineProperty;var C=Object.getOwnPropertyDescriptor;var _=Object.getOwnPropertyNames,y=Object.getOwnPropertySymbols;var g=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var E=(r,t,e)=>t in r?T(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,$=(r,t)=>{for(var e in t||(t={}))g.call(t,e)&&E(r,e,t[e]);if(y)for(var e of y(t))h.call(t,e)&&E(r,e,t[e]);return r};var f=(r,t)=>{var e={};for(var s in r)g.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&y)for(var s of y(r))t.indexOf(s)<0&&h.call(r,s)&&(e[s]=r[s]);return e};var I=(r,t)=>{for(var e in t)T(r,e,{get:t[e],enumerable:!0})},N=(r,t,e,s)=>{if(t&&typeof t=="object"||typeof t=="function")for(let i of _(t))!g.call(r,i)&&i!==e&&T(r,i,{get:()=>t[i],enumerable:!(s=C(t,i))||s.enumerable});return r};var U=r=>N(T({},"__esModule",{value:!0}),r);var W={};I(W,{Script:()=>l,returnZeroScript:()=>J});module.exports=U(W);var A=require("@ethersproject/bytes"),R=require("@fuel-ts/providers");var w=require("@fuel-ts/constants"),o=require("@fuel-ts/providers"),v=(r,t)=>typeof t=="bigint"?t.toString():t,L=(r,t)=>`${r===w.ZeroBytes32?"script":r}: ${t}`,d=class extends Error{constructor(t,e){let s=t.receipts.filter(n=>n.type===o.ReceiptType.Revert),i=s.length?`Reverts:
${s.map(u=>{var a=u,{type:n,id:p}=a,c=f(a,["type","id"]);return L(p,`${c.val} ${JSON.stringify(c,v)}`)}).join(`
`)}`:null,m=t.receipts.filter(n=>n.type===o.ReceiptType.Log||n.type===o.ReceiptType.LogData),S=m.length?`Logs:
${m.map(u=>{var a=u,{type:n,id:p}=a,c=f(a,["type","id"]);return L(p,`${n===o.ReceiptType.LogData?c.data:c.val0}`)}).join(`
`)}`:null,O=`Receipts:
${JSON.stringify(t.receipts.map(c=>{var u=c,{type:n}=u,p=f(u,["type"]);return $({type:o.ReceiptType[n]},p)}),v,2)}`;super(`${e}

${i?`${i}

`:""}${S?`${S}

`:""}${O}`)}};var b=10240,k=112,x=8,M=32,Z=32,j=8;function B(r){let t=[...r.receipts],e=t.pop();if(!e)throw new Error("Expected scriptResultReceipt");if(e.type!==R.ReceiptType.ScriptResult)throw new Error(`Invalid scriptResultReceipt type: ${e.type}`);let s=t.pop();if(!s)throw new Error("Expected returnReceipt");if(s.type!==R.ReceiptType.Return&&s.type!==R.ReceiptType.ReturnData&&s.type!==R.ReceiptType.Revert)throw new Error(`Invalid returnReceipt type: ${s.type}`);return{code:e.result,gasUsed:e.gasUsed,receipts:t,scriptResultReceipt:e,returnReceipt:s,callResult:r}}var l=class{constructor(t,e,s){this.bytes=(0,A.arrayify)(t),this.scriptDataEncoder=e,this.scriptResultDecoder=s}getScriptDataOffset(){return b+k+this.bytes.length}getArgOffset(){return this.getScriptDataOffset()+Z+j+M+x+x}encodeScriptData(t){return this.scriptDataEncoder(t)}decodeCallResult(t){try{let e=B(t);return this.scriptResultDecoder(e)}catch(e){throw new d(t,e.message)}}};var J=new l("0x24000000",()=>new Uint8Array(0),()=>{});0&&(module.exports={Script,returnZeroScript});
//# sourceMappingURL=index.js.map