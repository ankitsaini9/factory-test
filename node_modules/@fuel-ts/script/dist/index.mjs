var A=Object.defineProperty;var R=Object.getOwnPropertySymbols;var E=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;var S=(r,t,e)=>t in r?A(r,t,{enumerable:!0,configurable:!0,writable:!0,value:e}):r[t]=e,$=(r,t)=>{for(var e in t||(t={}))E.call(t,e)&&S(r,e,t[e]);if(R)for(var e of R(t))h.call(t,e)&&S(r,e,t[e]);return r};var l=(r,t)=>{var e={};for(var s in r)E.call(r,s)&&t.indexOf(s)<0&&(e[s]=r[s]);if(r!=null&&R)for(var s of R(r))t.indexOf(s)<0&&h.call(r,s)&&(e[s]=r[s]);return e};import{arrayify as C}from"@ethersproject/bytes";import{ReceiptType as y}from"@fuel-ts/providers";import{ZeroBytes32 as O}from"@fuel-ts/constants";import{ReceiptType as p}from"@fuel-ts/providers";var v=(r,t)=>typeof t=="bigint"?t.toString():t,L=(r,t)=>`${r===O?"script":r}: ${t}`,u=class extends Error{constructor(t,e){let s=t.receipts.filter(i=>i.type===p.Revert),f=s.length?`Reverts:
${s.map(a=>{var o=a,{type:i,id:c}=o,n=l(o,["type","id"]);return L(c,`${n.val} ${JSON.stringify(n,v)}`)}).join(`
`)}`:null,D=t.receipts.filter(i=>i.type===p.Log||i.type===p.LogData),m=D.length?`Logs:
${D.map(a=>{var o=a,{type:i,id:c}=o,n=l(o,["type","id"]);return L(c,`${i===p.LogData?n.data:n.val0}`)}).join(`
`)}`:null,x=`Receipts:
${JSON.stringify(t.receipts.map(n=>{var a=n,{type:i}=a,c=l(a,["type"]);return $({type:p[i]},c)}),v,2)}`;super(`${e}

${f?`${f}

`:""}${m?`${m}

`:""}${x}`)}};var _=10240,I=112,w=8,N=32,U=32,b=8;function k(r){let t=[...r.receipts],e=t.pop();if(!e)throw new Error("Expected scriptResultReceipt");if(e.type!==y.ScriptResult)throw new Error(`Invalid scriptResultReceipt type: ${e.type}`);let s=t.pop();if(!s)throw new Error("Expected returnReceipt");if(s.type!==y.Return&&s.type!==y.ReturnData&&s.type!==y.Revert)throw new Error(`Invalid returnReceipt type: ${s.type}`);return{code:e.result,gasUsed:e.gasUsed,receipts:t,scriptResultReceipt:e,returnReceipt:s,callResult:r}}var T=class{constructor(t,e,s){this.bytes=C(t),this.scriptDataEncoder=e,this.scriptResultDecoder=s}getScriptDataOffset(){return _+I+this.bytes.length}getArgOffset(){return this.getScriptDataOffset()+U+b+N+w+w}encodeScriptData(t){return this.scriptDataEncoder(t)}decodeCallResult(t){try{let e=k(t);return this.scriptResultDecoder(e)}catch(e){throw new u(t,e.message)}}};var V=new T("0x24000000",()=>new Uint8Array(0),()=>{});export{T as Script,V as returnZeroScript};
//# sourceMappingURL=index.mjs.map