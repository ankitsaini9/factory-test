var N=(s,r,e)=>{if(!r.has(s))throw TypeError("Cannot "+e)};var A=(s,r,e)=>(N(s,r,"read from private field"),e?e.call(s):r.get(s)),w=(s,r,e)=>{if(r.has(s))throw TypeError("Cannot add the same private member more than once");r instanceof WeakSet?r.add(s):r.set(s,e)},B=(s,r,e,t)=>(N(s,r,"write to private field"),t?t.call(s,e):r.set(s,e),e);var Q=(s,r,e)=>(N(s,r,"access private method"),e);import{Logger as ee}from"@ethersproject/logger";var re=new ee("0.0.0-master-65ffe7f"),i=class{constructor(r,e,t){this.name=r,this.type=e,this.encodedLength=t}throwError(r,e){throw re.throwArgumentError(r,this.name,e),new Error("unreachable")}};import{concat as te}from"@ethersproject/bytes";var I=class extends i{constructor(e,t){super("array",`[${e.type}; ${t}]`,t*e.encodedLength);this.coder=e,this.length=t}encode(e){return Array.isArray(e)||this.throwError("expected array value",e),this.length!==e.length&&this.throwError("Types/values length mismatch",e),te(Array.from(e).map(t=>this.coder.encode(t)))}decode(e,t){let o=t;return[Array(this.length).fill(0).map(()=>{let d;return[d,o]=this.coder.decode(e,o),d}),o]}};import{hexlify as oe,arrayify as ne}from"@ethersproject/bytes";import{toBigInt as se}from"@fuel-ts/math";var V=class extends i{constructor(){super("b256","b256",32)}encode(r){let e;try{e=ne(r)}catch{this.throwError(`Invalid ${this.type}`,r)}return e.length!==32&&this.throwError(`Invalid ${this.type}`,r),e}decode(r,e){let t=r.slice(e,e+32);return se(t)===0n&&(t=new Uint8Array(32)),t.length!==32&&this.throwError("Invalid size for b256",t),[oe(t),e+32]}};import{zeroPad as de}from"@ethersproject/bytes";import{toArray as ie,toBigInt as ae}from"@fuel-ts/math";var h=class extends i{constructor(){super("boolean","boolean",8)}encode(r){let e;try{e=ie(r?1:0)}catch{this.throwError("Invalid bool",r)}return e.length>1&&this.throwError("Invalid bool",r),de(e,8)}decode(r,e){let t=ae(r.slice(e,e+8));return t===0n?[!1,e+8]:(t!==1n&&this.throwError("Invalid boolean value",t),[!0,e+8])}};import{zeroPad as ce}from"@ethersproject/bytes";import{toArray as ue,toBigInt as pe}from"@fuel-ts/math";var E=class extends i{constructor(){super("byte","byte",8)}encode(r){let e;try{e=ue(r)}catch{this.throwError("Invalid Byte",r)}return e.length>1&&this.throwError("Invalid Byte",r),ce(e,8)}decode(r,e){let t=r.slice(e,e+8),o=pe(t);return o>255n&&this.throwError("Invalid Byte",o),[Number(o),e+8]}};import{concat as he}from"@ethersproject/bytes";import{zeroPad as me}from"@ethersproject/bytes";import{toArray as ye,toBigInt as le,toNumber as fe}from"@fuel-ts/math";var v,W,l=class extends i{constructor(e){super("number",e,8);w(this,v);switch(this.baseType=e,e){case"u8":this.length=1;break;case"u16":this.length=2;break;case"u32":this.length=4;break;case"u64":default:this.length=8;break}}encode(e){let t;try{t=ye(e)}catch{this.throwError(`Invalid ${this.baseType}`,e)}return t.length>this.length&&this.throwError(`Invalid ${this.baseType}`,e),me(t,8)}decode(e,t){let[o,n]=Q(this,v,W).call(this,e,t);return this.baseType==="u64"?[o,n]:[fe(o),n]}};v=new WeakSet,W=function(e,t){let o=e.slice(t,t+8);return o=o.slice(8-this.length,8),[le(o),t+8]};var k,F,D=class extends i{constructor(e,t){let o=new l("u64"),n=Object.values(t).reduce((d,a)=>Math.max(d,a.encodedLength),0);super("enum",`enum ${e}`,o.encodedLength+n);w(this,k,void 0);w(this,F,void 0);this.name=e,this.coders=t,B(this,k,o),B(this,F,n)}encode(e){let[t,...o]=Object.keys(e);if(!t)throw new Error("A field for the case must be provided");if(o.length!==0)throw new Error("Only one field must be provided");let n=this.coders[t],d=Object.keys(this.coders).indexOf(t),a=n.encode(e[t]),p=new Uint8Array(A(this,F)-n.encodedLength);return he([A(this,k).encode(d),p,a])}decode(e,t){let o=t,n;[n,o]=new l("u64").decode(e,o);let d=n,a=Object.keys(this.coders)[Number(d)];if(!a)throw new Error(`Invalid caseIndex "${d}". Valid cases: ${Object.keys(this.coders)}`);let p=this.coders[a];return o+=A(this,F)-p.encodedLength,[n,o]=p.decode(e,o),[{[a]:n},o]}};k=new WeakMap,F=new WeakMap;import{concat as ge}from"@ethersproject/bytes";import{toUtf8Bytes as be,toUtf8String as Te}from"@ethersproject/strings";var P,R=class extends i{constructor(e){let t=(8-e)%8;t=t<0?t+8:t;super("string",`str[${e}]`,e+t);w(this,P,void 0);this.length=e,B(this,P,t)}encode(e){let t=be(e.slice(0,this.length)),o=new Uint8Array(A(this,P));return ge([t,o])}decode(e,t){let o=e.slice(t,t+this.length),n=Te(o),d=A(this,P);return[n,t+this.length+d]}};P=new WeakMap;import{concat as Ce}from"@ethersproject/bytes";var U=class extends i{constructor(e,t){let o=Object.values(t).reduce((n,d)=>n+d.encodedLength,0);super("struct",`struct ${e}`,o);this.name=e,this.coders=t}encode(e){let t=Object.keys(this.coders).map(o=>{let n=this.coders[o],d=e[o];return n.encode(d)});return Ce(t)}decode(e,t){let o=t;return[Object.keys(this.coders).reduce((d,a)=>{let p=this.coders[a],f;return[f,o]=p.decode(e,o),d[a]=f,d},{}),o]}};import{concat as xe}from"@ethersproject/bytes";var g=class extends i{constructor(e){let t=e.reduce((o,n)=>o+n.encodedLength,0);super("tuple",`(${e.map(o=>o.type).join(", ")})`,t);this.coders=e}encode(e){return this.coders.length!==e.length&&this.throwError("Types/values length mismatch",{value:e}),xe(this.coders.map((t,o)=>t.encode(e[o])))}decode(e,t){let o=t;return[this.coders.map(d=>{let a;return[a,o]=d.decode(e,o),a}),o]}};function L(s){return s.filter(r=>(r==null?void 0:r.type)!=="()"&&r!=="()")}var $=class{constructor(r){this.inputs=[];this.outputs=[];this.type=r.type,this.name=r.name,this.inputs=r.inputs,this.outputs=r.outputs}};import{FormatTypes as Ve,ParamType as X}from"@ethersproject/abi";import{arrayify as Ae}from"@ethersproject/bytes";import{Logger as M}from"@ethersproject/logger";var we=/str\[(?<length>[0-9]+)\]/,z=/\[(?<item>[\w\s]+);\s*(?<length>[0-9]+)\]/,S=/^struct (?<name>\w+)$/,Oe=/^enum (?<name>\w+)$/,Ie=/^\((?<items>.*)\)$/,j=new M("0.0.0-master-65ffe7f"),b=class{constructor(){j.checkNew(new.target,b)}getCoder(r){var a,p,f,O,K,H;switch(r.type){case"u8":case"u16":case"u32":case"u64":return new l(r.type);case"bool":return new h;case"byte":return new E;case"b256":return new V;default:}let e=(a=we.exec(r.type))==null?void 0:a.groups;if(e){let y=parseInt(e.length,10);return new R(y)}let t=(p=z.exec(r.type))==null?void 0:p.groups;if(t){let y=parseInt(t.length,10),m=(f=r.components)==null?void 0:f[0];if(!m)throw new Error("Expected array type to have an item component");let x=this.getCoder(m);return new I(x,y)}let o=(O=S.exec(r.type))==null?void 0:O.groups;if(o&&Array.isArray(r.components)){let y=r.components.reduce((m,x)=>(m[x.name]=this.getCoder(x),m),{});return new U(o.name,y)}let n=(K=Oe.exec(r.type))==null?void 0:K.groups;if(n&&Array.isArray(r.components)){let y=r.components.reduce((m,x)=>(m[x.name]=this.getCoder(x),m),{});return new D(n.name,y)}if(((H=Ie.exec(r.type))==null?void 0:H.groups)&&Array.isArray(r.components)){let y=r.components.map(m=>this.getCoder(m));return new g(y)}return j.throwArgumentError("Invalid type","type",r.type)}encode(r,e){let t=L(r);Array.isArray(e)&&t.length!==e.length&&j.throwError("Types/values length mismatch",M.errors.INVALID_ARGUMENT,{count:{types:t.length,values:e.length},value:{types:r,values:e}});let o=t.map(d=>this.getCoder(d));return new g(o).encode(e)}decode(r,e){let t=Ae(e),o=L(r),n=O=>{O!==t.length&&j.throwError("Types/values length mismatch",M.errors.INVALID_ARGUMENT,{count:{types:o.length,values:t.length},value:{types:o,bytes:t}})};if(r.length===0||o.length===0){n(t.length?8:0);return}let d=o.map(O=>this.getCoder(O)),a=new g(d),[p,f]=a.decode(t,0);return n(f),p}};function Ee(s){var r,e;if(!s||s===Ve.sighash){if((r=S.exec(this.type))==null?void 0:r.groups)return`s${this.format(s)}`;let o=(e=z.exec(this.type))==null?void 0:e.groups;if(o)return`[${o.item}; ${o.length}]`}return this.format(s)}var T=class extends ${static fromObject(r){let{inputs:e=[],outputs:t=[]}=r,o={type:"function",name:r.name,inputs:e.map(X.fromObject),outputs:t.map(X.fromObject)};return new T(o)}format(){let r=this.inputs.map(e=>Ee.call(e));return`${this.name}(${r.join(",")})`}};import{arrayify as q,concat as Z,hexlify as J}from"@ethersproject/bytes";import{Logger as Fe}from"@ethersproject/logger";import{sha256 as De}from"@ethersproject/sha2";import{toUtf8Bytes as _}from"@ethersproject/strings";var Y=s=>{switch(s){case"u8":case"u16":case"u32":case"u64":case"bool":return!1;default:return!0}};var G=new Fe("0.0.0-master-65ffe7f"),Pe=s=>{let r=[];return s.forEach(e=>{e.type==="function"&&r.push(T.fromObject(e))}),r},C=class{constructor(r){this.fragments=Pe(r),this.abiCoder=new b,this.functions={},this.fragments.forEach(e=>{let t={};switch(e.type){case"function":t=this.functions;break;default:return}let o=e.format();if(t[o]){G.warn(`duplicate definition - ${o}`);return}t[o]=e})}static getSighash(r){let e=typeof r=="string"?_(r):_(r.format());return Z([new Uint8Array(4),q(De(e)).slice(0,4)])}getFunction(r){if(this.functions[r])return this.functions[r];let e=Object.values(this.functions).find(t=>J(C.getSighash(t))===r||t.name===r);return e||G.throwArgumentError(`function ${r} not found.`,"data",e)}decodeFunctionData(r,e){let t=typeof r=="string"?this.getFunction(r):r,o=q(e);return J(o.slice(0,8))!==J(C.getSighash(t))&&G.throwArgumentError(`data signature does not match function ${t.name}.`,"data",J(o)),this.abiCoder.decode(t.inputs,o.slice(16))}encodeFunctionData(r,e){let t=typeof r=="string"?this.getFunction(r):r;if(!t)throw new Error("Fragment not found");let o=C.getSighash(t),n=L(t.inputs);if(n.length===0)return o;let d=n.length>1||Y(n[0].type),a=this.abiCoder.encode(n,e);return Z([o,new h().encode(d),a])}decodeFunctionResult(r,e){let t=typeof r=="string"?this.getFunction(r):r,o=q(e);return this.abiCoder.decode(t.outputs,o)}encodeFunctionResult(r,e){let t=typeof r=="string"?this.getFunction(r):r;if(!t)throw new Error("Fragment not found");return this.abiCoder.encode(t.outputs,e)}};export{b as AbiCoder,I as ArrayCoder,V as B256Coder,h as BooleanCoder,E as ByteCoder,i as Coder,D as EnumCoder,$ as Fragment,T as FunctionFragment,C as Interface,l as NumberCoder,R as StringCoder,U as StructCoder,g as TupleCoder,L as filterEmptyParams,Y as isReferenceType};
//# sourceMappingURL=index.mjs.map